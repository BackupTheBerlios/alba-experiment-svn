#!/usr/bin/perl

use strict;
use Getopt::Long;

my $opt_q;

##### MODES ####

# query mode

my $PKGINFO='pkginfo';

my %opt;

sub query{
	warn "Query mode" if $opt{'d'};
	if (  (!defined $opt{'f'}) 
	      && (!defined $opt{'l'})
	      && (!defined $opt{'i'}) )
	{
	      # simple query mode
	      warn "Query mode: single package" if $opt{'d'};
	      my $res=`$PKGINFO $ARGV[0]`;
	      print $res;
	}
	
}

my $result=GetOptions(
	\%opt,
    	'q|query',          # query mode
	    'a|all',        # query all packages
       	    'f',            # query package owning file(s)
            'i|info',       # display package information
	    'l',            # display package file list
	'd|debug'
	);


if ($opt{'q'}){
	query();	
}
